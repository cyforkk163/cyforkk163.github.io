# Enhanced Todo App - MySQLç‰ˆæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“‹ é¡¹ç›®ç»“æ„
```
enhanced-todo-app/
â”œâ”€â”€ ğŸ“ backend/              # Node.jsåç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ server.js
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ .env.example
â”œâ”€â”€ ğŸ“ database/             # MySQLæ•°æ®åº“
â”‚   â””â”€â”€ init.sql            # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ ğŸ“ scripts/              # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ init-database.sh    # Linux/Macæ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ init-database.bat   # Windowsæ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ ğŸ“ js/                   # å‰ç«¯JavaScript
â”‚   â”œâ”€â”€ api-client.js       # APIå®¢æˆ·ç«¯ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ storage.js          # å­˜å‚¨ç®¡ç†ï¼ˆæ”¯æŒMySQLï¼‰
â”‚   â”œâ”€â”€ task.js
â”‚   â”œâ”€â”€ goal.js
â”‚   â””â”€â”€ app.js
â”œâ”€â”€ ğŸ“ css/
â”œâ”€â”€ index.html              # å‰ç«¯é¡µé¢ï¼ˆå·²æ›´æ–°ï¼‰
â””â”€â”€ README-MYSQL.md         # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ•°æ®åº“å‡†å¤‡
ç¡®ä¿ä½ çš„MySQLæœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼Œç”¨æˆ·åä¸º`root`ï¼Œå¯†ç ä¸º`123456`ã€‚

#### Windowsç”¨æˆ·ï¼š
```cmd
# è¿›å…¥é¡¹ç›®ç›®å½•
cd enhanced-todo-app

# è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
scripts\init-database.bat
```

#### Linux/Macç”¨æˆ·ï¼š
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd enhanced-todo-app

# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/init-database.sh

# è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
./scripts/init-database.sh
```

#### æ‰‹åŠ¨åˆå§‹åŒ–ï¼ˆå¦‚æœè„šæœ¬ä¸å¯ç”¨ï¼‰ï¼š
```bash
mysql -u root -p123456 < database/init.sql
```

### 2. å¯åŠ¨åç«¯æœåŠ¡
```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start
```

åç«¯å°†åœ¨ `http://localhost:3001` è¿è¡Œã€‚

### 3. å¯åŠ¨å‰ç«¯
```bash
# å›åˆ°é¡¹ç›®æ ¹ç›®å½•
cd ..

# å¯åŠ¨å‰ç«¯ï¼ˆä½¿ç”¨åŸæœ‰æ–¹å¼ï¼‰
npm start
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` è¿è¡Œã€‚

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
æ•°æ®åº“è¿æ¥é…ç½®åœ¨ `backend/.env` æ–‡ä»¶ä¸­ï¼š
```env
DB_HOST=localhost
DB_PORT=3306
DB_NAME=enhanced_todo_app
DB_USER=root
DB_PASSWORD=123456
```

### APIç«¯ç‚¹
åç«¯æä¾›ä»¥ä¸‹APIç«¯ç‚¹ï¼š

#### ä»»åŠ¡ç›¸å…³
- `GET /api/tasks` - è·å–æ‰€æœ‰ä»»åŠ¡
- `GET /api/tasks/:id` - è·å–å•ä¸ªä»»åŠ¡
- `POST /api/tasks` - åˆ›å»ºä»»åŠ¡
- `PUT /api/tasks/:id` - æ›´æ–°ä»»åŠ¡
- `DELETE /api/tasks/:id` - åˆ é™¤ä»»åŠ¡

#### ç›®æ ‡ç›¸å…³
- `GET /api/goals` - è·å–æ‰€æœ‰ç›®æ ‡
- `GET /api/goals/:id` - è·å–å•ä¸ªç›®æ ‡
- `POST /api/goals` - åˆ›å»ºç›®æ ‡
- `PUT /api/goals/:id` - æ›´æ–°ç›®æ ‡
- `DELETE /api/goals/:id` - åˆ é™¤ç›®æ ‡

#### å…¶ä»–
- `GET /api/settings` - è·å–è®¾ç½®
- `PUT /api/settings` - æ›´æ–°è®¾ç½®
- `GET /api/statistics` - è·å–ç»Ÿè®¡æ•°æ®
- `GET /api/export` - å¯¼å‡ºæ•°æ®
- `POST /api/import` - å¯¼å…¥æ•°æ®

## ğŸ”„ æ•°æ®è¿ç§»

### ä»localStorageè¿ç§»åˆ°MySQL
1. å¯åŠ¨MySQLåç«¯æœåŠ¡
2. æ‰“å¼€å‰ç«¯é¡µé¢
3. å¦‚æœæ£€æµ‹åˆ°localStorageä¸­æœ‰æ•°æ®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯¢é—®æ˜¯å¦è¿ç§»åˆ°æ•°æ®åº“
4. ç¡®è®¤è¿ç§»åï¼Œæ•°æ®å°†è‡ªåŠ¨è½¬ç§»åˆ°MySQL

### å¯¼å‡º/å¯¼å…¥æ•°æ®
- **å¯¼å‡º**: è®¿é—® `http://localhost:3001/api/export` æˆ–ä½¿ç”¨å‰ç«¯å¯¼å‡ºåŠŸèƒ½
- **å¯¼å…¥**: ä½¿ç”¨å‰ç«¯å¯¼å…¥åŠŸèƒ½æˆ–POSTåˆ° `http://localhost:3001/api/import`

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

### ä¸»è¦è¡¨
- `users` - ç”¨æˆ·è¡¨ï¼ˆé¢„ç•™å¤šç”¨æˆ·æ‰©å±•ï¼‰
- `tasks` - ä»»åŠ¡è¡¨
- `goals` - ç›®æ ‡è¡¨
- `user_settings` - ç”¨æˆ·è®¾ç½®
- `user_statistics` - ç”¨æˆ·ç»Ÿè®¡

### è§†å›¾
- `task_details` - ä»»åŠ¡è¯¦æƒ…è§†å›¾ï¼ˆåŒ…å«ç›®æ ‡ä¿¡æ¯ï¼‰
- `goal_progress` - ç›®æ ‡è¿›åº¦è§†å›¾ï¼ˆè‡ªåŠ¨è®¡ç®—å®Œæˆåº¦ï¼‰

### è§¦å‘å™¨
- è‡ªåŠ¨æ›´æ–°ç›®æ ‡è¿›åº¦
- è‡ªåŠ¨æ›´æ–°ç»Ÿè®¡æ•°æ®

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### åŒé‡å­˜å‚¨æ¨¡å¼
å‰ç«¯ä»£ç æ”¯æŒlocalStorageå’ŒMySQLåŒé‡å­˜å‚¨ï¼š
- å½“åç«¯å¯ç”¨æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨MySQL
- å½“åç«¯ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨å›é€€åˆ°localStorage
- æä¾›æ— ç¼çš„ç¦»çº¿/åœ¨çº¿åˆ‡æ¢ä½“éªŒ

### APIå®¢æˆ·ç«¯
æ–°å¢çš„ `api-client.js` æä¾›äº†ä¸åç«¯APIé€šä¿¡çš„å°è£…ï¼š
- è‡ªåŠ¨é”™è¯¯å¤„ç†
- è¿æ¥çŠ¶æ€æ£€æµ‹
- ç»Ÿä¸€çš„è¯·æ±‚æ ¼å¼

### å­—æ®µæ˜ å°„
å‰ç«¯å’Œåç«¯ä½¿ç”¨ä¸åŒçš„å­—æ®µå‘½åçº¦å®šï¼š
- å‰ç«¯: camelCaseï¼ˆå¦‚ `goalId`ï¼‰
- åç«¯: snake_caseï¼ˆå¦‚ `goal_id`ï¼‰
- è‡ªåŠ¨è¿›è¡Œæ ¼å¼è½¬æ¢

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
```
âŒ æ•°æ®åº“è¿æ¥å¤±è´¥: Access denied for user 'root'@'localhost'
```
**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦è¿è¡Œï¼Œç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚

#### 2. ç«¯å£è¢«å ç”¨
```
Error: listen EADDRINUSE: address already in use :::3001
```
**è§£å†³æ–¹æ¡ˆ**: 
- æ›´æ”¹ `backend/.env` ä¸­çš„ `PORT` é…ç½®
- æˆ–åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹

#### 3. å‰ç«¯æ— æ³•è¿æ¥åç«¯
**è§£å†³æ–¹æ¡ˆ**: 
- ç¡®è®¤åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥CORSé…ç½®
- éªŒè¯APIç«¯ç‚¹URL

#### 4. æ•°æ®æ²¡æœ‰æ˜¾ç¤º
**è§£å†³æ–¹æ¡ˆ**: 
- æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ
- éªŒè¯æ•°æ®åº“ä¸­æ˜¯å¦æœ‰æ•°æ®

### æ—¥å¿—æŸ¥çœ‹
- **åç«¯æ—¥å¿—**: æŸ¥çœ‹ç»ˆç«¯è¾“å‡º
- **å‰ç«¯æ—¥å¿—**: æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· Console é¢æ¿

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

- ç”Ÿäº§ç¯å¢ƒè¯·æ›´æ”¹é»˜è®¤æ•°æ®åº“å¯†ç 
- é…ç½®é€‚å½“çš„CORSç­–ç•¥
- è€ƒè™‘æ·»åŠ èº«ä»½éªŒè¯å’Œæˆæƒ
- å®šæœŸå¤‡ä»½æ•°æ®åº“

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨æ•°æ®åº“ç´¢å¼•æå‡æŸ¥è¯¢æ€§èƒ½
- å®ç°æ•°æ®åˆ†é¡µï¼ˆå¤§é‡æ•°æ®æ—¶ï¼‰
- è€ƒè™‘æ·»åŠ ç¼“å­˜å±‚
- ç›‘æ§æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½

## ğŸš€ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

1. **æ•°æ®åº“é…ç½®**
   - åˆ›å»ºç”Ÿäº§æ•°æ®åº“
   - é…ç½®ç¯å¢ƒå˜é‡
   - è®¾ç½®é€‚å½“çš„ç”¨æˆ·æƒé™

2. **åç«¯éƒ¨ç½²**
   - å®‰è£…ä¾èµ–: `npm install --production`
   - è®¾ç½®ç¯å¢ƒå˜é‡
   - ä½¿ç”¨è¿›ç¨‹ç®¡ç†å™¨ï¼ˆå¦‚PM2ï¼‰

3. **å‰ç«¯éƒ¨ç½²**
   - æ›´æ–°APIåŸºç¡€URL
   - æ„å»ºç”Ÿäº§ç‰ˆæœ¬
   - éƒ¨ç½²åˆ°WebæœåŠ¡å™¨

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹é¡¹ç›®çš„GitHub Issuesæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚